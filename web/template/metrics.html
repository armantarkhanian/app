{{ define "metrics.html" }}
<html>
    <head>
        <style>
         table {
             width:auto;
             margin-bottom:20px;
             margin-right:10px;
         }
         * {
             box-sizing:border-box;
             font-family:Arial;
             font-
         }
         td {
             padding:10px;
             border:1px solid #ccc;
         }
        </style>
    </head>

    <body>
        {{ $total := .TotalViews }}
        {{ .Time }}
        <table>
            <tr>
                <td><b>Total views</b></td>
            </tr>
            <tr>
                <td>{{$total}}</td>
            </tr>
        </table>
        

        <table>
            <tr>                
                <td colspan="2" style="text-align:center;"><b>Max Latency</b></td>
            </tr>
            {{range $key, $value := .MaxLatency}}
            <tr>
                <td>{{$key}}</td>
                <td>{{$value}}</td>
            </tr>
            {{end}}
        </table>
        

        <table>
            <tr>
                <td colspan="3" style="text-align:center;"><b>Endpoints</b></td>
            </tr>
            {{range $key, $value := .Endpoints}}
            <tr>
                <td>{{$key}}</td>
                <td>{{$value}}</td>
                <td>{{percent $value $total}} %</td>
            </tr>
            {{end}}
        </table>
        
        <table>
            <tr>
                <td colspan="3" style="text-align:center;"><b>OS</b></td>
            </tr>
            {{range $key, $value := .Os}}
            <tr>
                <td>{{$key}}</td>
                <td>{{$value}}</td>
                <td>{{percent $value $total}} %</td>
            </tr>
            {{end}}
        </table>

        <table>
            <tr>
                <td colspan="3" style="text-align:center;"><b>Countries</b></td>
            </tr>
            {{range $key, $value := .Countries}}
            <tr>
                <td>{{$key}}</td>
                <td>{{$value}}</td>                
                <td>{{percent $value $total}} %</td>
            </tr>
            {{end}}
        </table>

        <table>
            <tr>
                <td colspan="3" style="text-align:center;"><b>Genders</b></td>
            </tr>
            {{range $key, $value := .Genders}}
            <tr>
                <td>{{$key}}</td>
                <td>{{$value}}</td>                
                <td>{{percent $value $total}} %</td>
            </tr>
            {{end}}
        </table>


        <table>
            <tr>
                <td colspan="3" style="text-align:center;"><b>Browsers</b></td>
            </tr>
            {{range $key, $value := .Browsers}}
            <tr>
                <td>{{$key}}</td>
                <td>{{$value}}</td>                
                <td>{{percent $value $total}} %</td>
            </tr>
            {{end}}
        </table>
        

    </body>
</html>
{{ end }}
